# S3バケット手動作成手順

ShogiProjectの静的ファイルホスティング用S3バケットを手動で作成します。

## 作成するリソース

- 静的ウェブサイトホスティング用S3バケット
- バケットポリシーの設定
- 静的ウェブサイトホスティングの有効化

## 手順

### 1. S3バケットの作成

AWS マネジメントコンソールでS3サービスを開き、以下の設定でバケットを作成：

```
バケット名: your-project-[環境名]-[ランダム文字列]
例: your-project-production-abc123

リージョン: ap-northeast-1 (東京)

パブリックアクセス設定:
☐ パブリック読み取りアクセス権限をブロック (バケット設定)
☐ パブリック書き込みアクセス権限をブロック (バケット設定)  
☐ パブリック読み取りアクセス権限をブロック (バケットポリシー経由)
☐ パブリック書き込みアクセス権限をブロック (バケットポリシー経由)

バケットのバージョニング: 無効
暗号化: Amazon S3 マネージド キー (SSE-S3)
```

### 2. 静的ウェブサイトホスティングの有効化

作成したバケットの設定画面で：

```
プロパティ > 静的ウェブサイトホスティング > 編集

静的ウェブサイトホスティング: 有効
ホスティングタイプ: 静的ウェブサイトをホスト

インデックスドキュメント: index.html
エラードキュメント: error.html (オプション)
```

### 3. バケットポリシーの設定

アクセス許可 > バケットポリシー > 編集で以下のポリシーを設定：

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "PublicReadGetObject",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::YOUR_BUCKET_NAME/*"
        }
    ]
}
```

**注意**: `YOUR_BUCKET_NAME` を実際のバケット名に置き換えてください。

### 4. CORSの設定 (API連携用)

アクセス許可 > クロスオリジンリソースシェアリング (CORS) > 編集で以下を設定：

```json
[
    {
        "AllowedHeaders": ["*"],
        "AllowedMethods": ["GET", "HEAD"],
        "AllowedOrigins": ["*"],
        "ExposeHeaders": [],
        "MaxAgeSeconds": 3000
    }
]
```

### 5. 作成後の確認事項

作成完了後、以下の情報を記録してください：

- **バケット名**: 
- **バケットのウェブサイトエンドポイント**: 
- **作成日**: 

これらの情報はCloudFrontの設定時に必要になります。

## タグ設定

作成したS3バケットに以下のタグを設定：

```
Name: [バケット名]
Environment: [環境名]
Created: [作成日 YYYYMMDD]
```

## 注意事項

- S3バケット名は全世界で一意である必要があります
- 本番環境では適切なアクセス制限を設定してください
- CloudFrontと連携する場合は、直接アクセスを制限することを検討してください